(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{49:function(t,e,s){"use strict";s.r(e);var r={middleware:"auth",data:function(){return{finished:!1,loaded:!1,form:{name:"",client_id:"",type:"fixed",hours_estimated:20,desired_price_hour:35,total_price:0},types:[{value:"fixed",text:"Fixed price"},{value:"hours",text:"Per hours"},{value:"free",text:"Free"}],show:!0,clients:[]}},mounted:function(){var t=this;axios.all([axios.get("/api/fetch/select/clients")]).then(axios.spread((function(e){t.loaded=!0,t.clients=e.data.data})))},methods:{onSubmit:function(t){var e=this;t.preventDefault(),axios.post(["/api/projects"],this.form).then((function(t){e.finished=!0})).catch((function(t){422===t.response.status&&(e.errors=t.response.data.errors||{},$.each(e.errors,(function(t,e){})))}))}}},o=s(1),a=Object(o.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row header"},[s("div",{staticClass:"col-10 col-sm-8"},[s("h3",{staticClass:"mb-4"},[t._v(t._s(t.$t("projects"))+" / "+t._s(t.$t("create")))])]),t._v(" "),s("div",{staticClass:"col-2 col-sm-4 text-right"},[s("router-link",{attrs:{to:{name:"projects"}}},[s("h2",[s("BIconArrowLeftCircleFill",{attrs:{variant:"secondary"}})],1)])],1)]),t._v(" "),t.loaded?s("div",[t.finished?s("card",{staticClass:"text-center p-5"},[s("h3",{staticClass:"mb-4"},[t._v(t._s(t.$t("project_succesfully_added")))]),t._v(" "),s("router-link",{attrs:{to:{name:"projects"}}},[s("b-button",{attrs:{variant:"success"}},[t._v(t._s(t.$t("back")))])],1)],1):s("card",[0==Object.values(t.clients).length?s("div",[s("div",{staticClass:"text-center mt-5 mb-5"},[s("h4",[t._v(t._s(t.$t("onboarding_no_clients")))]),t._v(" "),s("p",[t._v(t._s(t.$t("onboarding_no_clients_text")))]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/vector/clients.jpg"}})]),t._v(" "),s("router-link",{attrs:{to:{name:"client.add"}}},[s("button",{staticClass:"btn btn-primary"},[t._v("\n              "+t._s(t.$t("onboarding_no_clients_add"))+"\n            ")])])],1)]):s("div",[t.show?s("b-form",{staticClass:"m-5",on:{submit:t.onSubmit}},[s("b-form-group",{staticClass:"mb-4",attrs:{label:t.$t("project_name")}},[s("b-form-input",{attrs:{size:"lg",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),s("b-form-group",{staticClass:"mb-4",attrs:{label:t.$t("client")}},[s("b-form-select",{attrs:{size:"lg",options:t.clients,required:""},model:{value:t.form.client_id,callback:function(e){t.$set(t.form,"client_id",e)},expression:"form.client_id"}})],1),t._v(" "),s("div",{staticClass:"row mb-4"},[s("div",{staticClass:"col-12 col-md-4"},[s("b-form-group",{attrs:{label:t.$t("project_type")}},[s("b-form-select",{attrs:{size:"lg",options:t.types,required:""},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1)],1),t._v(" "),"free"!=t.form.type?s("div",{staticClass:"col-12 col-md-4"},["hours"==t.form.type?s("b-form-group",{attrs:{label:t.$t("desired_price_hour")}},[s("b-input-group",{attrs:{append:"€"}},[s("b-form-input",{attrs:{size:"lg",required:""},model:{value:t.form.desired_price_hour,callback:function(e){t.$set(t.form,"desired_price_hour",e)},expression:"form.desired_price_hour"}})],1)],1):s("b-form-group",{attrs:{label:t.$t("total_price")}},[s("b-input-group",{attrs:{append:"€"}},[s("b-form-input",{attrs:{size:"lg",required:""},model:{value:t.form.total_price,callback:function(e){t.$set(t.form,"total_price",e)},expression:"form.total_price"}})],1)],1)],1):t._e(),t._v(" "),s("div",{staticClass:"col-12 col-md-4"},[s("b-form-group",{attrs:{label:t.$t("hours_estimated")}},[s("b-input-group",{attrs:{append:t.$t("hours")}},[s("b-form-input",{attrs:{size:"lg",required:""},model:{value:t.form.hours_estimated,callback:function(e){t.$set(t.form,"hours_estimated",e)},expression:"form.hours_estimated"}})],1)],1)],1)]),t._v(" "),s("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v(t._s(t.$t("create")))])],1):t._e()],1)])],1):s("div",[s("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}})])])}),[],!1,null,null,null);e.default=a.exports}}]);
