(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{20:function(e,t,i){"use strict";i.r(t);var n={middleware:"auth",props:["file"],data:function(){return{item:[],sureDelete:!1,deleted:!1,counter:0}},mounted:function(){this.item=this.$props.file},methods:{isImage:function(){return!1},getIcon:function(){return"image/jpeg"==this.item.mime_type?"file-image":"application/pdf"==this.item.mime_type?"file-pdf":"file"},sureYouWannaDelete:function(){var e=this;this.sureDelete=!0,this.counter=2,setTimeout((function(){return e.counter=1}),1e3),setTimeout((function(){return e.sureDelete=!1}),2e3)},deleteFile:function(){var e=this,t=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},"id",this.item.id);axios.post("/api/upload/file/delete",t).then((function(t){e.deleted=!0,e.sureDelete=!1,e.counter=0})).catch((function(t){e.deleted=!1,e.errors=t.response.data.errors||{},$.each(e.errors,(function(e,t){}))}))}}},s=(i(75),i(1)),r=Object(s.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.deleted?e._e():i("div",{staticClass:"slot-preview-file"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-9"},[i("a",{attrs:{href:"/api/upload/file/get/"+e.item.pivot.mediable_id+"/"+e.item.id,target:"_blank"}},[e.isImage()?i("span",[i("img",{staticClass:"img-responsive img-preview mb-2",attrs:{src:"/api/upload/file/show/"+e.item.pivot.mediable_id+"/"+e.item.id}})]):i("span",[e._v("\n          "+e._s(e.item.filename)+"."+e._s(e.item.extension)+"\n        ")])])]),e._v(" "),i("div",{staticClass:"col-3 text-right"},[e.sureDelete?e._e():i("span",{staticClass:"text-gray-200 pointer",on:{click:function(t){return e.sureYouWannaDelete()}}},[i("BIconTrash")],1),e._v(" "),e.sureDelete?i("button",{staticClass:"btn btn-sm bg-danger text-white",on:{click:function(t){return e.deleteFile()}}},[i("BIconTrash"),e._v("?\n        "+e._s(this.counter)+"\n      ")],1):e._e()])])])}),[],!1,null,null,null);t.default=r.exports},26:function(e,t,i){var n=i(76);"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(9)(n,s);n.locals&&(e.exports=n.locals)},75:function(e,t,i){"use strict";var n=i(26);i.n(n).a},76:function(e,t,i){(e.exports=i(8)(!1)).push([e.i,".img-preview {\n  height: 100px;\n  width: auto;\n}",""])}}]);
