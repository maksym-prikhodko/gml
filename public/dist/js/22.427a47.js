(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{20:function(t,e,a){"use strict";a.r(e);var i={middleware:"auth",components:{VueEditor:a(59).a},props:["id"],data:function(){return{loaded:!1,loadId:null,item:Array,customToolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","image"]]}},mounted:function(){this.loadId=this.$props.id;var t=this;axios.all([axios.get("/api/tasks/"+t.id)]).then(axios.spread((function(e){t.loaded=!0,t.item=e.data.data})))},methods:{handleImageAdded:function(t,e,a,i){var s=new FormData;s.append("image",t),axios({url:"/api/image/upload",method:"POST",data:s}).then((function(t){var s=t.data.url;e.insertEmbed(a,"image",s),i()})).catch((function(t){console.log(t)}))},updateTask:function(){var t=this;axios.patch(["/api/tasks/"+this.item.id],this.item).then((function(t){})).catch((function(e){422===e.response.status&&(t.errors=e.response.data.errors||{},$.each(t.errors,(function(t,e){})))}))}}},s=a(1),n=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loaded?a("div",{staticClass:"row p-4"},[a("div",{staticClass:"col-12 col-md-9"},[a("b-form-input",{staticClass:"inline-input mb-3 text-lg",attrs:{size:"lg",required:""},on:{change:function(e){return t.updateTask()}},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}}),t._v(" "),a("vue-editor",{staticClass:"inline-input",attrs:{id:"editor",editorToolbar:t.customToolbar,useCustomImageHandler:""},on:{blur:function(e){return t.updateTask()},"image-added":t.handleImageAdded},model:{value:t.item.desc,callback:function(e){t.$set(t.item,"desc",e)},expression:"item.desc"}})],1),t._v(" "),a("div",{staticClass:"col-12 col-md-3"},[t._v("\n      "+t._s(t.item.id)+"\n    ")])]):a("div",[a("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}})])])}),[],!1,null,null,null);e.default=n.exports}}]);
