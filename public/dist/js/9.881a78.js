(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{32:function(t,e,s){var o=s(92);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s(9)(o,i);o.locals&&(t.exports=o.locals)},42:function(t,e,s){"use strict";s.r(e);var o=s(6);var i={mixins:[o.ContainerMixin],template:"<div><slot /></div>"},r={mixins:[o.ElementMixin],props:["item"],template:'<div class="row slot-project"><slot /></div>'},n={middleware:"auth",components:{ContainerMixin:o.ContainerMixin,ElementMixin:o.ElementMixin,SortableItem:r,SortableList:i},data:function(){return{loaded:!1,projects:Array,items:Array}},mounted:function(){var t=this;axios.all([axios.get("/api/fetch/projects")]).then(axios.spread((function(e){t.loaded=!0,t.projects=e.data.data,t.prepareDrag()})))},methods:{prepareDrag:function(){this.items=Object.values(this.projects)},toggleFocus:function(t,e){var s=this,o=function(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}({},"id",e);axios.post(["/api/update/project/focus"],o,this.headers).then((function(e){1==s.items[t].focus?s.items[t].focus=0:s.items[t].focus=1})).catch((function(t){422===t.response.status&&(s.errors=t.response.data.errors||{},$.each(s.errors,(function(t,e){})))}))},saveOrder:function(){var t=[];this.items.forEach((function(e){var s=[{id:e.id}];t.push(s)})),axios.post(["/api/order/projects"],t).then((function(t){})).catch((function(t){}))}}},a=(s(91),s(1)),c=Object(a.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row header"},[s("div",{staticClass:"col-10 col-sm-8"},[s("h3",{staticClass:"mb-4"},[t._v(t._s(t.$t("projects")))])]),t._v(" "),s("div",{staticClass:"col-2 col-sm-4 text-right"},[s("router-link",{attrs:{to:{name:"project.add"}}},[s("img",{attrs:{src:"/img/ico-add.svg"}})])],1)]),t._v(" "),t.loaded?s("div",[s("card",{attrs:{id:"project-list"}},[0==t.items.length?s("div",[s("div",{staticClass:"text-center mt-5 mb-5"},[s("h4",[t._v(t._s(t.$t("onboarding_no_projects")))]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/vector/start-nothing.jpg"}})]),t._v(" "),s("router-link",{attrs:{to:{name:"project.add"}}},[s("button",{staticClass:"btn btn-primary"},[t._v("\n              "+t._s(t.$t("onboarding_no_projects_add"))+"\n            ")])])],1)]):s("div",[s("SortableList",{attrs:{lockAxis:"y",distance:10},on:{input:function(e){return t.saveOrder()}},model:{value:t.items,callback:function(e){t.items=e},expression:"items"}},t._l(t.items,(function(e,o){return s("SortableItem",{key:parseInt(o),attrs:{index:parseInt(o),value:e}},[s("div",{staticClass:"col-10 col-sm-6"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-1 col-2 text-right"},[0==e.focus?s("BIconStar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"pointer pull-right",attrs:{title:t.$t("mark_as_focus")},on:{click:function(s){return t.toggleFocus(o,e.id)}}}):s("BIconStarFill",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"pointer pull-right",attrs:{title:t.$t("unmark_as_focus")},on:{click:function(s){return t.toggleFocus(o,e.id)}}})],1),t._v(" "),s("div",{staticClass:"col-sm-11 col-10"},[s("span",{staticClass:"project-name"},[s("router-link",{attrs:{to:{name:"project.home",params:{id:e.id}}}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])],1),t._v(" "),s("span",{staticClass:"client-name"},[t._v(t._s(e.client))])])])]),t._v(" "),s("div",{staticClass:"col-2 col-sm-1 tet-center"},[s("router-link",{attrs:{to:{name:"project.home",params:{id:e.id}}}},[s("h4",[e.tasks_count>0?s("span",{staticClass:"badge badge-secondary"},[t._v("\n                    "+t._s(e.tasks_count)+"\n                  ")]):t._e()])])],1),t._v(" "),s("div",{staticClass:"col-4 col-sm-1 text-left text-sm-right"},[t._v("\n              "+t._s(e.hours_estimated)),s("br"),t._v("\n              "+t._s(e.hours)+"\n            ")]),t._v(" "),"free"!=e.type?s("div",{staticClass:"col-4 col-sm-2 text-center text-sm-right"},[t._v("\n              "+t._s(e.desired_price_hour)),s("br"),t._v("\n              "+t._s(e.price_hour)+"\n            ")]):t._e(),t._v(" "),"free"!=e.type?s("div",{staticClass:"col-4 col-sm-2 text-right"},[t._v("\n              "+t._s(e.total)),s("br"),t._v("\n              "+t._s(e.balance)+"\n            ")]):t._e(),t._v(" "),"free"==e.type?s("div",{staticClass:"col-4 text-center"},[s("p",[t._v("Free project")])]):t._e()])})),1)],1)])],1):s("div",[s("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}})])])}),[],!1,null,null,null);e.default=c.exports},91:function(t,e,s){"use strict";var o=s(32);s.n(o).a},92:function(t,e,s){(t.exports=s(8)(!1)).push([t.i,"#project-list .slot-project {\n  margin-bottom: 1em;\n  border-bottom: 1px solid #f0f0f0;\n  padding-bottom: 1em;\n}\n#project-list .slot-project .project-name {\n  font-weight: bold;\n  display: block;\n  font-size: 1.2em;\n}\n#project-list .slot-project .client-name {\n  font-style: italic;\n  display: block;\n}\n#project-list .pointer {\n  cursor: pointer;\n}\n#project-list .slot-project:last-child {\n  border: none;\n  margin-bottom: 0;\n}\n#project-list .archive-icon {\n  opacity: 0;\n}\n#project-list .archive-icon:hover {\n  opacity: 1;\n}",""])}}]);
